#!/usr/bin/env kaiju

#entry("Program : Main");

#use("Person.kj");
#use("Std.kj");

class Program
{
	static var a = 1;
	static var b = 2;

	static Main(...)
	{
		var c = Program:Add(Program:a, Program:b);
		//Std:WriteLine(c);
		#inject("dbgi :*$c->Int/___Data.___data");
		#inject("dbgb $___NEW_LINE");

		var p = new Person("john", c.Add(20));
		//Std:WriteLine(p.age);
		var tmp = p.age;
		#inject("dbgi :*$tmp->Int/___Data.___data");
		#inject("dbgb $___NEW_LINE");
		delete p;

		#inject("dbgb $___NEW_LINE");
		
		while(tmp.GreaterThan(10))
		{
			tmp = tmp.Sub(1);
			//Std:WriteLine(tmp);
			#inject("dbgi :*$tmp->Int/___Data.___data");
			#inject("dbgb $___NEW_LINE");
		}

		#inject("dbgb $___NEW_LINE");
		
		for(var i = 0; i.LessThan(tmp); i.Add(1))
		{
			//Std:WriteLine(i);
			#inject("dbgi :*$i->Int/___Data.___data");
			#inject("dbgb $___NEW_LINE");
		}

		#inject("dbgb $___NEW_LINE");
		
		if(false)
		{
			tmp = 0;
			//Std:WriteLine(tmp);
			#inject("dbgi :*$tmp->Int/___Data.___data");
			#inject("dbgb $___NEW_LINE");
		}
		else if(tmp.EqualTo(10))
		{
			tmp = 1;
			//Std:WriteLine(tmp);
			#inject("dbgi :*$tmp->Int/___Data.___data");
			#inject("dbgb $___NEW_LINE");
		}
		else
		{
			tmp = 2;
			//Std:WriteLine(tmp);
			#inject("dbgi :*$tmp->Int/___Data.___data");
			#inject("dbgb $___NEW_LINE");
		}

		#inject("dbgb $___NEW_LINE");
		
		var a = new Array(4);
		a.Set(0, 1);
		a.Set(1, 3);
		a.Set(2, 3);
		a.Set(3, 7);
		foreach(v in a)
		{
			#inject("dbgi :*$v->Int/___Data.___data");
			#inject("dbgb $___NEW_LINE");
		}
	}

	static Add(a, b)
	{
		return a.Add(b);
		// near future:
		//return {a + b};
	}
}
